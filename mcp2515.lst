   1               		.file	"mcp2515.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.mcp2515_register_write,"ax",@progbits
  11               	.global	mcp2515_register_write
  13               	mcp2515_register_write:
  14               	.LFB6:
  15               		.file 1 "mcp2515.c"
   1:mcp2515.c     **** #include "spi.h"
   2:mcp2515.c     **** #include "mcp2515.h"
   3:mcp2515.c     **** #include <util/delay.h>
   4:mcp2515.c     **** 
   5:mcp2515.c     **** 
   6:mcp2515.c     **** void mcp2515_register_write(uint8_t reg, uint8_t val)
   7:mcp2515.c     **** {
  16               		.loc 1 7 0
  17               		.cfi_startproc
  18               	.LVL0:
  19 0000 1F93      		push r17
  20               	.LCFI0:
  21               		.cfi_def_cfa_offset 3
  22               		.cfi_offset 17, -2
  23 0002 CF93      		push r28
  24               	.LCFI1:
  25               		.cfi_def_cfa_offset 4
  26               		.cfi_offset 28, -3
  27 0004 DF93      		push r29
  28               	.LCFI2:
  29               		.cfi_def_cfa_offset 5
  30               		.cfi_offset 29, -4
  31 0006 1F92      		push __zero_reg__
  32               	.LCFI3:
  33               		.cfi_def_cfa_offset 6
  34 0008 CDB7      		in r28,__SP_L__
  35 000a DEB7      		in r29,__SP_H__
  36               	.LCFI4:
  37               		.cfi_def_cfa_register 28
  38               	/* prologue: function */
  39               	/* frame size = 1 */
  40               	/* stack size = 4 */
  41               	.L__stack_usage = 4
  42 000c 182F      		mov r17,r24
   8:mcp2515.c     ****     mcp2515_slave_select();
  43               		.loc 1 8 0
  44 000e 2898      		cbi 0x5,0
   9:mcp2515.c     ****     spi_transmit(MCP_WRITE);
  45               		.loc 1 9 0
  46 0010 82E0      		ldi r24,lo8(2)
  47               	.LVL1:
  48 0012 6983      		std Y+1,r22
  49 0014 0E94 0000 		call spi_transmit
  50               	.LVL2:
  10:mcp2515.c     ****     spi_transmit(reg);
  51               		.loc 1 10 0
  52 0018 812F      		mov r24,r17
  53 001a 0E94 0000 		call spi_transmit
  54               	.LVL3:
  11:mcp2515.c     ****     spi_transmit(val);
  55               		.loc 1 11 0
  56 001e 6981      		ldd r22,Y+1
  57 0020 862F      		mov r24,r22
  58 0022 0E94 0000 		call spi_transmit
  59               	.LVL4:
  12:mcp2515.c     ****     mcp2515_slave_release();
  60               		.loc 1 12 0
  61 0026 289A      		sbi 0x5,0
  62               	/* epilogue start */
  13:mcp2515.c     **** }
  63               		.loc 1 13 0
  64 0028 0F90      		pop __tmp_reg__
  65 002a DF91      		pop r29
  66 002c CF91      		pop r28
  67 002e 1F91      		pop r17
  68               	.LVL5:
  69 0030 0895      		ret
  70               		.cfi_endproc
  71               	.LFE6:
  73               		.section	.text.mcp2515_register_write_bit,"ax",@progbits
  74               	.global	mcp2515_register_write_bit
  76               	mcp2515_register_write_bit:
  77               	.LFB7:
  14:mcp2515.c     **** 
  15:mcp2515.c     **** void mcp2515_register_write_bit(uint8_t reg, uint8_t bit, uint8_t val)
  16:mcp2515.c     **** {
  78               		.loc 1 16 0
  79               		.cfi_startproc
  80               	.LVL6:
  81 0000 1F93      		push r17
  82               	.LCFI5:
  83               		.cfi_def_cfa_offset 3
  84               		.cfi_offset 17, -2
  85 0002 CF93      		push r28
  86               	.LCFI6:
  87               		.cfi_def_cfa_offset 4
  88               		.cfi_offset 28, -3
  89 0004 DF93      		push r29
  90               	.LCFI7:
  91               		.cfi_def_cfa_offset 5
  92               		.cfi_offset 29, -4
  93 0006 00D0      		rcall .
  94               	.LCFI8:
  95               		.cfi_def_cfa_offset 7
  96 0008 CDB7      		in r28,__SP_L__
  97 000a DEB7      		in r29,__SP_H__
  98               	.LCFI9:
  99               		.cfi_def_cfa_register 28
 100               	/* prologue: function */
 101               	/* frame size = 2 */
 102               	/* stack size = 5 */
 103               	.L__stack_usage = 5
 104 000c 182F      		mov r17,r24
  17:mcp2515.c     ****     mcp2515_slave_select();
 105               		.loc 1 17 0
 106 000e 2898      		cbi 0x5,0
  18:mcp2515.c     ****     spi_transmit(MCP_BIT_MODIFY);
 107               		.loc 1 18 0
 108 0010 85E0      		ldi r24,lo8(5)
 109               	.LVL7:
 110 0012 4A83      		std Y+2,r20
 111 0014 6983      		std Y+1,r22
 112 0016 0E94 0000 		call spi_transmit
 113               	.LVL8:
  19:mcp2515.c     ****     spi_transmit(reg);
 114               		.loc 1 19 0
 115 001a 812F      		mov r24,r17
 116 001c 0E94 0000 		call spi_transmit
 117               	.LVL9:
  20:mcp2515.c     ****     spi_transmit(1<<bit);
 118               		.loc 1 20 0
 119 0020 81E0      		ldi r24,lo8(1)
 120 0022 6981      		ldd r22,Y+1
 121 0024 00C0      		rjmp 2f
 122               		1:
 123 0026 880F      		lsl r24
 124               		2:
 125 0028 6A95      		dec r22
 126 002a 02F4      		brpl 1b
 127 002c 0E94 0000 		call spi_transmit
 128               	.LVL10:
  21:mcp2515.c     ****     spi_transmit(val?0xff:0x00);
 129               		.loc 1 21 0
 130 0030 81E0      		ldi r24,lo8(1)
 131 0032 4A81      		ldd r20,Y+2
 132 0034 4111      		cpse r20,__zero_reg__
 133 0036 00C0      		rjmp .L3
 134 0038 80E0      		ldi r24,0
 135               	.L3:
 136 003a 8195      		neg r24
 137 003c 0E94 0000 		call spi_transmit
 138               	.LVL11:
  22:mcp2515.c     ****     mcp2515_slave_release();
 139               		.loc 1 22 0
 140 0040 289A      		sbi 0x5,0
 141               	/* epilogue start */
  23:mcp2515.c     **** }
 142               		.loc 1 23 0
 143 0042 0F90      		pop __tmp_reg__
 144 0044 0F90      		pop __tmp_reg__
 145 0046 DF91      		pop r29
 146 0048 CF91      		pop r28
 147 004a 1F91      		pop r17
 148               	.LVL12:
 149 004c 0895      		ret
 150               		.cfi_endproc
 151               	.LFE7:
 153               		.section	.text.mcp2515_register_read,"ax",@progbits
 154               	.global	mcp2515_register_read
 156               	mcp2515_register_read:
 157               	.LFB8:
  24:mcp2515.c     **** 
  25:mcp2515.c     **** uint8_t mcp2515_register_read(uint8_t reg)
  26:mcp2515.c     **** {
 158               		.loc 1 26 0
 159               		.cfi_startproc
 160               	.LVL13:
 161 0000 CF93      		push r28
 162               	.LCFI10:
 163               		.cfi_def_cfa_offset 3
 164               		.cfi_offset 28, -2
 165               	/* prologue: function */
 166               	/* frame size = 0 */
 167               	/* stack size = 1 */
 168               	.L__stack_usage = 1
 169 0002 C82F      		mov r28,r24
  27:mcp2515.c     ****     mcp2515_slave_select();
 170               		.loc 1 27 0
 171 0004 2898      		cbi 0x5,0
  28:mcp2515.c     ****     spi_transmit(MCP_READ);
 172               		.loc 1 28 0
 173 0006 83E0      		ldi r24,lo8(3)
 174               	.LVL14:
 175 0008 0E94 0000 		call spi_transmit
 176               	.LVL15:
  29:mcp2515.c     ****     spi_transmit(reg);
 177               		.loc 1 29 0
 178 000c 8C2F      		mov r24,r28
 179 000e 0E94 0000 		call spi_transmit
 180               	.LVL16:
  30:mcp2515.c     ****     uint8_t retval = spi_transmit(0);
 181               		.loc 1 30 0
 182 0012 80E0      		ldi r24,0
 183 0014 0E94 0000 		call spi_transmit
 184               	.LVL17:
  31:mcp2515.c     ****     mcp2515_slave_release();
 185               		.loc 1 31 0
 186 0018 289A      		sbi 0x5,0
 187               	/* epilogue start */
  32:mcp2515.c     ****     return retval;
  33:mcp2515.c     **** }
 188               		.loc 1 33 0
 189 001a CF91      		pop r28
 190               	.LVL18:
 191 001c 0895      		ret
 192               		.cfi_endproc
 193               	.LFE8:
 195               		.section	.text.mcp2515_rx_status,"ax",@progbits
 196               	.global	mcp2515_rx_status
 198               	mcp2515_rx_status:
 199               	.LFB9:
  34:mcp2515.c     **** 
  35:mcp2515.c     **** uint8_t mcp2515_rx_status(void)
  36:mcp2515.c     **** {
 200               		.loc 1 36 0
 201               		.cfi_startproc
 202               	/* prologue: function */
 203               	/* frame size = 0 */
 204               	/* stack size = 0 */
 205               	.L__stack_usage = 0
  37:mcp2515.c     ****     mcp2515_slave_select();
 206               		.loc 1 37 0
 207 0000 2898      		cbi 0x5,0
  38:mcp2515.c     ****     spi_transmit(MCP_RX_STATUS);
 208               		.loc 1 38 0
 209 0002 80EB      		ldi r24,lo8(-80)
 210 0004 0E94 0000 		call spi_transmit
 211               	.LVL19:
  39:mcp2515.c     ****     uint8_t retval = spi_transmit(0);
 212               		.loc 1 39 0
 213 0008 80E0      		ldi r24,0
 214 000a 0E94 0000 		call spi_transmit
 215               	.LVL20:
  40:mcp2515.c     ****     mcp2515_slave_release();
 216               		.loc 1 40 0
 217 000e 289A      		sbi 0x5,0
  41:mcp2515.c     ****     return retval;
  42:mcp2515.c     **** }
 218               		.loc 1 42 0
 219 0010 0895      		ret
 220               		.cfi_endproc
 221               	.LFE9:
 223               		.section	.text.mcp2515_status,"ax",@progbits
 224               	.global	mcp2515_status
 226               	mcp2515_status:
 227               	.LFB10:
  43:mcp2515.c     **** 
  44:mcp2515.c     **** uint8_t mcp2515_status(void)
  45:mcp2515.c     **** {
 228               		.loc 1 45 0
 229               		.cfi_startproc
 230               	/* prologue: function */
 231               	/* frame size = 0 */
 232               	/* stack size = 0 */
 233               	.L__stack_usage = 0
  46:mcp2515.c     ****     mcp2515_slave_select();
 234               		.loc 1 46 0
 235 0000 2898      		cbi 0x5,0
  47:mcp2515.c     ****     spi_transmit(MCP_READ_STATUS);
 236               		.loc 1 47 0
 237 0002 80EA      		ldi r24,lo8(-96)
 238 0004 0E94 0000 		call spi_transmit
 239               	.LVL21:
  48:mcp2515.c     ****     uint16_t retval = spi_transmit(0);
 240               		.loc 1 48 0
 241 0008 80E0      		ldi r24,0
 242 000a 0E94 0000 		call spi_transmit
 243               	.LVL22:
  49:mcp2515.c     ****     mcp2515_slave_release();
 244               		.loc 1 49 0
 245 000e 289A      		sbi 0x5,0
  50:mcp2515.c     ****     return retval;
  51:mcp2515.c     **** }
 246               		.loc 1 51 0
 247 0010 0895      		ret
 248               		.cfi_endproc
 249               	.LFE10:
 251               		.text
 252               	.Letext0:
 253               		.file 2 "/Users/pannetra/avr8-gnu-toolchain-darwin_x86_64/avr/include/stdint.h"
 254               		.file 3 "spi.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 mcp2515.c
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:4      *ABS*:000000000000003f __SREG__
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:13     .text.mcp2515_register_write:0000000000000000 mcp2515_register_write
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:76     .text.mcp2515_register_write_bit:0000000000000000 mcp2515_register_write_bit
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:156    .text.mcp2515_register_read:0000000000000000 mcp2515_register_read
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:198    .text.mcp2515_rx_status:0000000000000000 mcp2515_rx_status
/var/folders/sj/f9kxv34128b7m_365p3ps5_h0000gn/T//ccMez8vB.s:226    .text.mcp2515_status:0000000000000000 mcp2515_status

UNDEFINED SYMBOLS
spi_transmit
